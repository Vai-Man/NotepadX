<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NotepadX - Simple Note Taking App</title>
    <!-- Link to external CSS file for styling -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main container for the app -->
    <div class="container">
        <!-- App header -->
        <header>
            <h1>NotepadX</h1>
            <p class="subtitle">Your simple, lightweight note-taking companion</p>
        </header>

        <!-- Quote of the day -->
        <div class="quote-container">
            <div class="quote-text" id="quoteText">Loading quote...</div>
            <div class="quote-author" id="quoteAuthor"></div>
            <button id="newQuoteBtn" class="new-quote-btn" aria-label="Get new quote"> New Quote</button>
        </div>

        <!-- Main content area -->
        <main>
            <!-- Text area with line numbers -->
            <div class="editor-container">
                <div id="lineNumbers" class="line-numbers" aria-hidden="true"></div>
                <textarea 
                    id="notepad" 
                    placeholder="Start typing your notes here..."
                    aria-label="Note editor"
                ></textarea>
            </div>

            <!-- Word count display -->
            <div id="wordCount" class="word-count" aria-live="polite">Words: 0</div>

            <!-- Search controls -->
            <div class="search-group">
                <input id="searchInput" type="search" placeholder="Find..." aria-label="Search notes">
                <button id="prevMatch" class="btn">Prev</button>
                <button id="nextMatch" class="btn">Next</button>
            </div>

            <!-- Font size control -->
            <div class="font-size-group" aria-label="Font size control">
                <label for="fontFamily" class="font-size-label">Font:</label>
                <select id="fontFamily" aria-label="Font family selector">
                    <option value="Arial, sans-serif">Arial</option>
                    <option value="'Courier New', monospace">Courier New</option>
                    <option value="Georgia, serif">Georgia</option>
                    <option value="'Times New Roman', serif">Times New Roman</option>
                    <option value="Verdana, sans-serif">Verdana</option>
                    <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
                    <option value="monospace">Monospace</option>
                </select>
                <label for="fontSize" class="font-size-label">Size:</label>
                <input id="fontSize" type="number" min="10" max="48" value="16" step="1" inputmode="numeric" aria-label="Font size input">
            </div>

            <!-- Button controls -->
            <div class="button-group">
                <!-- Save button - stores notes to localStorage -->
                <button id="saveBtn" class="btn btn-primary" aria-label="Save note">
                    Save
                </button>
                
                <!-- Clear button - erases all text -->
                <button id="clearBtn" class="btn btn-secondary" aria-label="Clear note">
                    Clear
                </button>
                
                <!-- Export dropdown menu -->
                <div class="export-dropdown">
                    <button id="exportBtn" class="btn btn-success" aria-label="Export note" aria-haspopup="true" aria-expanded="false">
                        Export ‚ñº
                    </button>
                    <div id="exportMenu" class="export-menu" role="menu">
                        <button class="export-option" data-format="txt" role="menuitem">
                            Export as TXT
                        </button>
                        <button class="export-option" data-format="md" role="menuitem">
                            Export as Markdown
                        </button>
                        <button class="export-option" data-format="pdf" role="menuitem">
                            Export as PDF
                        </button>
                        <button class="export-option" data-format="gist" role="menuitem">
                            Share as GitHub Gist
                        </button>
                    </div>
                </div>
            </div>

            <!-- Status message area -->
            <div id="statusMessage" class="status-message"></div>
        </main>

        <!-- Footer -->
        <footer>
            <p>Built for Hacktoberfest & Open for contributions!</p>
        </footer>
    </div>

    <!-- GitHub Gist Modal -->
    <div id="gistModal" class="modal" role="dialog" aria-labelledby="gistModalTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="gistModalTitle">Share as GitHub Gist</h2>
                <button class="modal-close" id="closeGistModal" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>To share your notes as a GitHub Gist, you need a Personal Access Token.</p>
                <div class="form-group">
                    <label for="gistToken">GitHub Personal Access Token:</label>
                    <div class="token-input-group">
                        <input type="password" id="gistToken" placeholder="ghp_xxxxxxxxxxxx" aria-describedby="tokenHelp">
                        <button id="toggleTokenVisibility" class="btn-icon" aria-label="Toggle token visibility" title="Show/Hide token">üëÅÔ∏è</button>
                    </div>
                    <small id="tokenHelp">Get your token from <a href="https://github.com/settings/tokens" target="_blank">GitHub Settings</a> (needs 'gist' scope)</small>
                    <div id="tokenStatus" class="token-status" style="display: none;">
                        <span class="token-saved">‚úì Token saved</span>
                        <button id="clearToken" class="btn-link">Clear saved token</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="gistFilename">Filename:</label>
                    <input type="text" id="gistFilename" value="notes.md" placeholder="filename.md">
                </div>
                <div class="form-group">
                    <label for="gistDescription">Description:</label>
                    <input type="text" id="gistDescription" placeholder="My notes from NotepadX">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="gistPublic">
                        Make this Gist public
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelGist" class="btn btn-secondary">Cancel</button>
                <button id="createGist" class="btn btn-primary">Create Gist</button>
            </div>
        </div>
    </div>

    <!-- Link to external JavaScript file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>

